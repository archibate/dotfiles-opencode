{
    "$schema": "https://opencode.ai/config.json",
    "experimental": {
        "mcp_timeout": 120000
    },
    "provider": {
        "ollama": {
            "models": {
                "qwen3:8b": {
                    "attachment": true,
                    "reasoning": true,
                    "temperature": true,
                    "tool_call": true,
                    "options": {
                        "temperature": 0.2,
                        "num_ctx": 40960
                    },
                    "limit": {
                        "context": 40960,
                        "output": 8192
                    },
                    "name": "qwen3:8b"
                },
                "qwen3-coder": {
                    "attachment": true,
                    "reasoning": true,
                    "temperature": true,
                    "tool_call": true,
                    "options": {
                        "temperature": 0.2,
                        "num_ctx": 81920
                    },
                    "limit": {
                        "context": 81920,
                        "output": 16384
                    },
                    "name": "qwen3-coder"
                }
            },
            "name": "Ollama (local)",
            "npm": "@ai-sdk/openai-compatible",
            "options": {
                "baseURL": "http://127.0.0.1:11434/v1"
            }
        },
        // "n1n": {
        //     "npm": "@ai-sdk/openai-compatible",
        //     "name": "N1N.AI",
        //     "options": {
        //         "baseURL": "https://api.n1n.ai/v1",
        //         "apiKey": "{env:N1N_API_KEY}"
        //     },
        //     "models": {
        //         // OpenAI Models
        //         "gpt-4o-mini": {
        //             "name": "GPT-4o Mini",
        //             "limit": { "context": 128000, "output": 16384 }
        //         },
        //         "gpt-4o": {
        //             "name": "GPT-4o",
        //             "limit": { "context": 128000, "output": 16384 }
        //         },
        //         "gpt-5.3-codex": {
        //             "name": "GPT-5.3 Codex",
        //             "limit": { "context": 400000, "output": 128000 }
        //         },
        //         "gpt-5.2": {
        //             "name": "GPT-5.2",
        //             "limit": { "context": 400000, "output": 128000 }
        //         },
        //         "gpt-5.2-chat": {
        //             "name": "GPT-5.2 Chat",
        //             "limit": { "context": 128000, "output": 16000 }
        //         },
        //         "gpt-5.2-codex": {
        //             "name": "GPT-5.2 Codex",
        //             "limit": { "context": 400000, "output": 128000 }
        //         },
        //         "gpt-5.1": {
        //             "name": "GPT-5.1",
        //             "limit": { "context": 400000, "output": 128000 }
        //         },
        //         "gpt-5.1-chat": {
        //             "name": "GPT-5.1 Chat",
        //             "limit": { "context": 128000, "output": 16000 }
        //         },
        //         "gpt-5.1-codex": {
        //             "name": "GPT-5.1 Codex",
        //             "limit": { "context": 400000, "output": 128000 }
        //         },
        //
        //         // Claude Models (Anthropic)
        //         "claude-opus-4-6-thinking": {
        //             "name": "Claude Opus 4.6 Thinking",
        //             "limit": { "context": 1000000, "output": 128000 }
        //         },
        //         "claude-opus-4-6": {
        //             "name": "Claude Opus 4.6",
        //             "limit": { "context": 1000000, "output": 128000 }
        //         },
        //         "claude-sonnet-4-5-20250929-thinking": {
        //             "name": "Claude Sonnet 4.5 Thinking",
        //             "limit": { "context": 1000000, "output": 64000 }
        //         },
        //         "claude-sonnet-4-5-20250929": {
        //             "name": "Claude Sonnet 4.5",
        //             "limit": { "context": 1000000, "output": 64000 }
        //         },
        //         "claude-haiku-4-5-20251001-thinking": {
        //             "name": "Claude Haiku 4.5 Thinking",
        //             "limit": { "context": 200000, "output": 64000 }
        //         },
        //         "claude-haiku-4-5-20251001": {
        //             "name": "Claude Haiku 4.5",
        //             "limit": { "context": 200000, "output": 64000 }
        //         },
        //
        //         // Grok Models (xAI)
        //         "grok-4.1-fast": {
        //             "name": "Grok 4.1 Fast",
        //             "limit": { "context": 2000000, "output": 16000 }
        //         },
        //         "grok-4.1-fast-reasoning": {
        //             "name": "Grok 4.1 Fast Reasoning",
        //             "limit": { "context": 2000000, "output": 16000 }
        //         },
        //         "grok-4": {
        //             "name": "Grok 4",
        //             "limit": { "context": 256000, "output": 16000 }
        //         },
        //         "grok-4-fast": {
        //             "name": "Grok 4 Fast",
        //             "limit": { "context": 256000, "output": 16000 }
        //         },
        //         "grok-3-mini": {
        //             "name": "Grok 3 Mini",
        //             "limit": { "context": 131072, "output": 131072 }
        //         },
        //
        //         // Gemini Models (Google)
        //         "gemini-3-pro": {
        //             "name": "Gemini 3 Pro",
        //             "limit": { "context": 1000000, "output": 64000 }
        //         },
        //         "gemini-3-flash": {
        //             "name": "Gemini 3 Flash",
        //             "limit": { "context": 1000000, "output": 65000 }
        //         },
        //         "gemini-2.5-pro": {
        //             "name": "Gemini 2.5 Pro",
        //             "limit": { "context": 1000000, "output": 65000 }
        //         },
        //
        //         // DeepSeek Models
        //         "deepseek-v3.2-thinking": {
        //             "name": "DeepSeek v3.2 Thinking",
        //             "limit": { "context": 131072, "output": 64000 }
        //         },
        //         "deepseek-v3.2": {
        //             "name": "DeepSeek v3.2",
        //             "limit": { "context": 131072, "output": 8000 }
        //         },
        //         "deepseek-v3.2-fast": {
        //             "name": "DeepSeek v3.2 Fast",
        //             "limit": { "context": 131072, "output": 8000 }
        //         },
        //         "deepseek-reasoner": {
        //             "name": "DeepSeek Reasoner",
        //             "limit": { "context": 131072, "output": 64000 }
        //         },
        //         "deepseek-chat": {
        //             "name": "DeepSeek Chat",
        //             "limit": { "context": 131072, "output": 8000 }
        //         },
        //
        //         // Qwen Models (Alibaba)
        //         "qwen3-coder": {
        //             "name": "Qwen 3 Coder",
        //             "limit": { "context": 256000, "output": 256000 }
        //         },
        //
        //         // Kimi Models (Moonshot AI)
        //         "kimi-k2.5": {
        //             "name": "Kimi K2.5",
        //             "limit": { "context": 262144, "output": 32768 }
        //         },
        //         "kimi-k2-instruct": {
        //             "name": "Kimi K2 Instruct",
        //             "limit": { "context": 131072, "output": 8192 }
        //         },
        //         "kimi-k2-thinking": {
        //             "name": "Kimi K2 Thinking",
        //             "limit": { "context": 262144, "output": 16384 }
        //         }
        //     },
        // },
        "openrouter": {
            "options": {
                "apiKey": "{env:OPENROUTER_KEY}"
            }
        },
        "openrouter-compatible": {
            "name": "OpenRouter Compatible",
            "npm": "@ai-sdk/openai-compatible",
            "options": {
                "baseURL": "https://openrouter.ai/api/v1",
                "apiKey": "{env:OPENROUTER_KEY}"
            },
            "models": {
                "anthropic/claude-haiku-4.5": {
                    "id": "anthropic/claude-haiku-4.5",
                    "name": "Claude Haiku 4.5 Thinking",
                    "reasoning": true,
                    "limit": {
                        "context": 1000000,
                        "output": 64000
                    },
                    "options": {
                        "thinking": {
                            "type": "enabled",
                            "budgetTokens": 16000
                        },
                    },
                    "cost": {
                        "input": 1.0,
                        "output": 5.0
                    }
                },
                "anthropic/claude-sonnet-4.6": {
                    "id": "anthropic/claude-sonnet-4.6",
                    "name": "Claude Sonnet 4.6 Thinking",
                    "reasoning": true,
                    "limit": {
                        "context": 1000000,
                        "output": 128000
                    },
                    "options": {
                        "thinking": {
                            "type": "enabled",
                            "budgetTokens": 16000
                        },
                    },
                    "cost": {
                        "input": 3.0,
                        "output": 15.0
                    }
                },
                "anthropic/claude-opus-4.6": {
                    "id": "anthropic/claude-opus-4.6",
                    "name": "Claude Opus 4.6 Thinking",
                    "reasoning": true,
                    "limit": {
                        "context": 1000000,
                        "output": 128000
                    },
                    "options": {
                        "thinking": {
                            "type": "enabled",
                            "budgetTokens": 16000
                        },
                    },
                    "cost": {
                        "input": 5.0,
                        "output": 25.0
                    }
                },
            },
        },
        "deepseek": {
            "options": {
                "apiKey": "{env:DEEPSEEK_API_KEY}"
            }
        },
        "zhipuai-coding-plan": {
            "options": {
                "apiKey": "{env:Z_AI_API_KEY}"
            }
        }
    },
    "theme": "tokyonight",
    // "model": "deepseek/deepseek-reasoner",
    "model": "zhipuai-coding-plan/glm-5",
    // "model": "openrouter-compatible/anthropic/claude-sonnet-4.6",
    "small_model": "zhipuai-coding-plan/glm-4.5-air",
    "default_agent": "build",
    "mcp": {
        "zai-mcp-server": {
            "type": "local",
            "command": [
                "npx",
                "-y",
                "@z_ai/mcp-server"
            ],
            "environment": {
                "Z_AI_MODE": "ZHIPU",
                "Z_AI_API_KEY": "{env:Z_AI_API_KEY}"
            },
            "enabled": true
        },
        "web-search-prime": {
            "type": "remote",
            "url": "https://open.bigmodel.cn/api/mcp/web_search_prime/mcp",
            "headers": {
                "Authorization": "Bearer {env:Z_AI_API_KEY}"
            },
            "enabled": true
        },
        "web-reader": {
            "type": "remote",
            "url": "https://open.bigmodel.cn/api/mcp/web_reader/mcp",
            "headers": {
                "Authorization": "Bearer {env:Z_AI_API_KEY}"
            },
            "enabled": true
        },
        "zread": {
            "type": "remote",
            "url": "https://open.bigmodel.cn/api/mcp/zread/mcp",
            "headers": {
                "Authorization": "Bearer {env:Z_AI_API_KEY}"
            },
            "enabled": true
        },
        "playwright": {
            "type": "local",
            "command": [
                "npx",
                "@playwright/mcp@latest"
            ],
            "enabled": true
        },
        "context7": {
            "type": "local",
            "command": [
                "npx",
                "-y",
                "@upstash/context7-mcp",
                "--api-key",
                "{env:CONTEXT7_API_KEY}"
            ],
            "enabled": true
        },
        "chrome-devtools": {
            "type": "local",
            "command": [
                "npx",
                "-y",
                "chrome-devtools-mcp@latest",
                "--no-usage-statistics",
                "--headless", "true"
            ],
            "enabled": false
        },
        "grep": {
            "type": "remote",
            "url": "https://mcp.grep.app",
            "enabled": true
        }
    },
    "permission": {
        "external_directory": {
            "*": "ask",
            "~/.config/opencode/skills/*": "allow",
            "/tmp/*": "allow",
        }
    },
    "formatter": {
        "stylua": {
            "command": ["stylua", "-", "$FILE"],
            "extensions": [".lua"]
        }
    },
    "plugin": [
        "@franlol/opencode-md-table-formatter@0.0.3",
        "opencode-pty@0.2.1",
        "@mohak34/opencode-notifier@0.1.19"
    ]
}
